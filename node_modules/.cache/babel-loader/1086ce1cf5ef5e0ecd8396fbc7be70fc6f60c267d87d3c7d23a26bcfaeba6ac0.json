{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/idang/Documents/assignment3_3-205814999_315786798-master/assignment3_3-205814999_315786798-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"C:/Users/idang/Documents/assignment3_3-205814999_315786798-master/assignment3_3-205814999_315786798-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"C:/Users/idang/Documents/assignment3_3-205814999_315786798-master/assignment3_3-205814999_315786798-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.concat.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data: function data() {\n    return {\n      recipe: null\n    };\n  },\n  created: function created() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var response, _response$data$recipe, analyzedInstructions, instructions, extendedIngredients, aggregateLikes, readyInMinutes, image, title, _instructions, _recipe;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.prev = 1;\n            _context.next = 4;\n            return _this.axios.get(\n            // \"https://test-for-3-2.herokuapp.com/recipes/info\",\n            _this.$root.store.server_domain + \"/recipes/info\", {\n              params: {\n                id: _this.$route.params.recipeId\n              }\n            });\n          case 4:\n            response = _context.sent;\n            // console.log(\"response.status\", response.status);\n            if (response.status !== 200) _this.$router.replace(\"/NotFound\");\n            _context.next = 13;\n            break;\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(\"error.response.status\", _context.t0.response.status);\n            _this.$router.replace(\"/NotFound\");\n            return _context.abrupt(\"return\");\n          case 13:\n            _response$data$recipe = response.data.recipe, analyzedInstructions = _response$data$recipe.analyzedInstructions, instructions = _response$data$recipe.instructions, extendedIngredients = _response$data$recipe.extendedIngredients, aggregateLikes = _response$data$recipe.aggregateLikes, readyInMinutes = _response$data$recipe.readyInMinutes, image = _response$data$recipe.image, title = _response$data$recipe.title;\n            _instructions = analyzedInstructions.map(function (fstep) {\n              fstep.steps[0].step = fstep.name + fstep.steps[0].step;\n              return fstep.steps;\n            }).reduce(function (a, b) {\n              return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n            }, []);\n            _recipe = {\n              instructions: instructions,\n              _instructions: _instructions,\n              analyzedInstructions: analyzedInstructions,\n              extendedIngredients: extendedIngredients,\n              aggregateLikes: aggregateLikes,\n              readyInMinutes: readyInMinutes,\n              image: image,\n              title: title\n            };\n            _this.recipe = _recipe;\n            _context.next = 22;\n            break;\n          case 19:\n            _context.prev = 19;\n            _context.t1 = _context[\"catch\"](0);\n            console.log(_context.t1);\n          case 22:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 19], [1, 8]]);\n    }))();\n  }\n};","map":{"version":3,"names":["data","recipe","created","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_response$data$recipe","analyzedInstructions","instructions","extendedIngredients","aggregateLikes","readyInMinutes","image","title","_instructions","_recipe","wrap","_callee$","_context","prev","next","axios","get","$root","store","server_domain","params","id","$route","recipeId","sent","status","$router","replace","t0","console","log","abrupt","map","fstep","steps","step","name","reduce","a","b","concat","_toConsumableArray","t1","stop"],"sources":["src/pages/RecipeViewPage.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div v-if=\"recipe\">\n      <div class=\"recipe-header mt-3 mb-4\">\n        <h1>{{ recipe.title }}</h1>\n        <img :src=\"recipe.image\" class=\"center\" />\n      </div>\n      <div class=\"recipe-body\">\n        <div class=\"wrapper\">\n          <div class=\"wrapped\">\n            <div class=\"mb-3\">\n              <div>Ready in {{ recipe.readyInMinutes }} minutes</div>\n              <div>Likes: {{ recipe.aggregateLikes }} likes</div>\n            </div>\n            Ingredients:\n            <ul>\n              <li\n                v-for=\"(r, index) in recipe.extendedIngredients\"\n                :key=\"index + '_' + r.id\"\n              >\n                {{ r.original }}\n              </li>\n            </ul>\n          </div>\n          <div class=\"wrapped\">\n            Instructions:\n            <ol>\n              <li v-for=\"s in recipe._instructions\" :key=\"s.number\">\n                {{ s.step }}\n              </li>\n            </ol>\n          </div>\n        </div>\n      </div>\n      <!-- <pre>\n      {{ $route.params }}\n      {{ recipe }}\n    </pre\n      > -->\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      recipe: null\n    };\n  },\n  async created() {\n    try {\n      let response;\n      // response = this.$route.params.response;\n\n      try {\n        response = await this.axios.get(\n          // \"https://test-for-3-2.herokuapp.com/recipes/info\",\n          this.$root.store.server_domain + \"/recipes/info\",\n          {\n            params: { id: this.$route.params.recipeId }\n          }\n        );\n\n        // console.log(\"response.status\", response.status);\n        if (response.status !== 200) this.$router.replace(\"/NotFound\");\n      } catch (error) {\n        console.log(\"error.response.status\", error.response.status);\n        this.$router.replace(\"/NotFound\");\n        return;\n      }\n\n      let {\n        analyzedInstructions,\n        instructions,\n        extendedIngredients,\n        aggregateLikes,\n        readyInMinutes,\n        image,\n        title\n      } = response.data.recipe;\n\n      let _instructions = analyzedInstructions\n        .map((fstep) => {\n          fstep.steps[0].step = fstep.name + fstep.steps[0].step;\n          return fstep.steps;\n        })\n        .reduce((a, b) => [...a, ...b], []);\n\n      let _recipe = {\n        instructions,\n        _instructions,\n        analyzedInstructions,\n        extendedIngredients,\n        aggregateLikes,\n        readyInMinutes,\n        image,\n        title\n      };\n\n      this.recipe = _recipe;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  \n};\n</script>\n\n<style scoped>\n.wrapper {\n  display: flex;\n}\n.wrapped {\n  width: 50%;\n}\n.center {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  width: 50%;\n}\n/* .recipe-header{\n\n} */\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;EACAA,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,QAAA,EAAAC,qBAAA,EAAAC,oBAAA,EAAAC,YAAA,EAAAC,mBAAA,EAAAC,cAAA,EAAAC,cAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,aAAA,EAAAC,OAAA;MAAA,OAAAb,mBAAA,GAAAc,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAE,IAAA;YAAA,OAMApB,KAAA,CAAAqB,KAAA,CAAAC,GAAA;YACA;YACAtB,KAAA,CAAAuB,KAAA,CAAAC,KAAA,CAAAC,aAAA,oBACA;cACAC,MAAA;gBAAAC,EAAA,EAAA3B,KAAA,CAAA4B,MAAA,CAAAF,MAAA,CAAAG;cAAA;YACA,CACA;UAAA;YANAxB,QAAA,GAAAa,QAAA,CAAAY,IAAA;YAQA;YACA,IAAAzB,QAAA,CAAA0B,MAAA,UAAA/B,KAAA,CAAAgC,OAAA,CAAAC,OAAA;YAAAf,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAgB,EAAA,GAAAhB,QAAA;YAEAiB,OAAA,CAAAC,GAAA,0BAAAlB,QAAA,CAAAgB,EAAA,CAAA7B,QAAA,CAAA0B,MAAA;YACA/B,KAAA,CAAAgC,OAAA,CAAAC,OAAA;YAAA,OAAAf,QAAA,CAAAmB,MAAA;UAAA;YAAA/B,qBAAA,GAYAD,QAAA,CAAAR,IAAA,CAAAC,MAAA,EAPAS,oBAAA,GAAAD,qBAAA,CAAAC,oBAAA,EACAC,YAAA,GAAAF,qBAAA,CAAAE,YAAA,EACAC,mBAAA,GAAAH,qBAAA,CAAAG,mBAAA,EACAC,cAAA,GAAAJ,qBAAA,CAAAI,cAAA,EACAC,cAAA,GAAAL,qBAAA,CAAAK,cAAA,EACAC,KAAA,GAAAN,qBAAA,CAAAM,KAAA,EACAC,KAAA,GAAAP,qBAAA,CAAAO,KAAA;YAGAC,aAAA,GAAAP,oBAAA,CACA+B,GAAA,WAAAC,KAAA;cACAA,KAAA,CAAAC,KAAA,IAAAC,IAAA,GAAAF,KAAA,CAAAG,IAAA,GAAAH,KAAA,CAAAC,KAAA,IAAAC,IAAA;cACA,OAAAF,KAAA,CAAAC,KAAA;YACA,GACAG,MAAA,WAAAC,CAAA,EAAAC,CAAA;cAAA,UAAAC,MAAA,CAAAC,kBAAA,CAAAH,CAAA,GAAAG,kBAAA,CAAAF,CAAA;YAAA;YAEA9B,OAAA;cACAP,YAAA,EAAAA,YAAA;cACAM,aAAA,EAAAA,aAAA;cACAP,oBAAA,EAAAA,oBAAA;cACAE,mBAAA,EAAAA,mBAAA;cACAC,cAAA,EAAAA,cAAA;cACAC,cAAA,EAAAA,cAAA;cACAC,KAAA,EAAAA,KAAA;cACAC,KAAA,EAAAA;YACA;YAEAb,KAAA,CAAAF,MAAA,GAAAiB,OAAA;YAAAG,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAA8B,EAAA,GAAA9B,QAAA;YAEAiB,OAAA,CAAAC,GAAA,CAAAlB,QAAA,CAAA8B,EAAA;UAAA;UAAA;YAAA,OAAA9B,QAAA,CAAA+B,IAAA;QAAA;MAAA,GAAA7C,OAAA;IAAA;EAEA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}